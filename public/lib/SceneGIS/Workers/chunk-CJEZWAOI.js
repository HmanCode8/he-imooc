/**
 * @license
 * Cesium - https://github.com/CesiumGS/cesium
 * Version 1.114
 *
 * Copyright 2011-2022 Cesium Contributors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Columbus View (Pat. Pend.)
 *
 * Portions licensed separately.
 * See https://github.com/CesiumGS/cesium/blob/main/LICENSE.md for full licensing details.
 */

import{a as _,b as u,c as H,d as jn,e as on}from"./chunk-KXWBEOUA.js";import{a as E}from"./chunk-4BEFMW7D.js";import{a as Rn}from"./chunk-72JWF3LF.js";import{a as d}from"./chunk-2F4MHS2T.js";import{a as J,b as y}from"./chunk-3Z2AZRQC.js";import{e as z}from"./chunk-A5XXOFX2.js";function e(n,o,c,f){this.x=d(n,0),this.y=d(o,0),this.z=d(c,0),this.w=d(f,0)}e.fromElements=function(n,o,c,f,O){return z(O)?(O.x=n,O.y=o,O.z=c,O.w=f,O):new e(n,o,c,f)};e.fromColor=function(n,o){return y.typeOf.object("color",n),z(o)?(o.x=n.red,o.y=n.green,o.z=n.blue,o.w=n.alpha,o):new e(n.red,n.green,n.blue,n.alpha)};e.clone=function(n,o){if(z(n))return z(o)?(o.x=n.x,o.y=n.y,o.z=n.z,o.w=n.w,o):new e(n.x,n.y,n.z,n.w)};e.packedLength=4;e.pack=function(n,o,c){return y.typeOf.object("value",n),y.defined("array",o),c=d(c,0),o[c++]=n.x,o[c++]=n.y,o[c++]=n.z,o[c]=n.w,o};e.unpack=function(n,o,c){return y.defined("array",n),o=d(o,0),z(c)||(c=new e),c.x=n[o++],c.y=n[o++],c.z=n[o++],c.w=n[o],c};e.packArray=function(n,o){y.defined("array",n);let c=n.length,f=c*4;if(!z(o))o=new Array(f);else{if(!Array.isArray(o)&&o.length!==f)throw new J("If result is a typed array, it must have exactly array.length * 4 elements");o.length!==f&&(o.length=f)}for(let O=0;O<c;++O)e.pack(n[O],o,O*4);return o};e.unpackArray=function(n,o){if(y.defined("array",n),y.typeOf.number.greaterThanOrEquals("array.length",n.length,4),n.length%4!==0)throw new J("array length must be a multiple of 4.");let c=n.length;z(o)?o.length=c/4:o=new Array(c/4);for(let f=0;f<c;f+=4){let O=f/4;o[O]=e.unpack(n,f,o[O])}return o};e.fromArray=e.unpack;e.maximumComponent=function(n){return y.typeOf.object("cartesian",n),Math.max(n.x,n.y,n.z,n.w)};e.minimumComponent=function(n){return y.typeOf.object("cartesian",n),Math.min(n.x,n.y,n.z,n.w)};e.minimumByComponent=function(n,o,c){return y.typeOf.object("first",n),y.typeOf.object("second",o),y.typeOf.object("result",c),c.x=Math.min(n.x,o.x),c.y=Math.min(n.y,o.y),c.z=Math.min(n.z,o.z),c.w=Math.min(n.w,o.w),c};e.maximumByComponent=function(n,o,c){return y.typeOf.object("first",n),y.typeOf.object("second",o),y.typeOf.object("result",c),c.x=Math.max(n.x,o.x),c.y=Math.max(n.y,o.y),c.z=Math.max(n.z,o.z),c.w=Math.max(n.w,o.w),c};e.clamp=function(n,o,c,f){y.typeOf.object("value",n),y.typeOf.object("min",o),y.typeOf.object("max",c),y.typeOf.object("result",f);let O=E.clamp(n.x,o.x,c.x),p=E.clamp(n.y,o.y,c.y),b=E.clamp(n.z,o.z,c.z),t=E.clamp(n.w,o.w,c.w);return f.x=O,f.y=p,f.z=b,f.w=t,f};e.magnitudeSquared=function(n){return y.typeOf.object("cartesian",n),n.x*n.x+n.y*n.y+n.z*n.z+n.w*n.w};e.magnitude=function(n){return Math.sqrt(e.magnitudeSquared(n))};var fn=new e;e.distance=function(n,o){return y.typeOf.object("left",n),y.typeOf.object("right",o),e.subtract(n,o,fn),e.magnitude(fn)};e.distanceSquared=function(n,o){return y.typeOf.object("left",n),y.typeOf.object("right",o),e.subtract(n,o,fn),e.magnitudeSquared(fn)};e.normalize=function(n,o){y.typeOf.object("cartesian",n),y.typeOf.object("result",o);let c=e.magnitude(n);if(o.x=n.x/c,o.y=n.y/c,o.z=n.z/c,o.w=n.w/c,isNaN(o.x)||isNaN(o.y)||isNaN(o.z)||isNaN(o.w))throw new J("normalized result is not a number");return o};e.dot=function(n,o){return y.typeOf.object("left",n),y.typeOf.object("right",o),n.x*o.x+n.y*o.y+n.z*o.z+n.w*o.w};e.multiplyComponents=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c.x=n.x*o.x,c.y=n.y*o.y,c.z=n.z*o.z,c.w=n.w*o.w,c};e.divideComponents=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c.x=n.x/o.x,c.y=n.y/o.y,c.z=n.z/o.z,c.w=n.w/o.w,c};e.add=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c.x=n.x+o.x,c.y=n.y+o.y,c.z=n.z+o.z,c.w=n.w+o.w,c};e.subtract=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c.x=n.x-o.x,c.y=n.y-o.y,c.z=n.z-o.z,c.w=n.w-o.w,c};e.multiplyByScalar=function(n,o,c){return y.typeOf.object("cartesian",n),y.typeOf.number("scalar",o),y.typeOf.object("result",c),c.x=n.x*o,c.y=n.y*o,c.z=n.z*o,c.w=n.w*o,c};e.divideByScalar=function(n,o,c){return y.typeOf.object("cartesian",n),y.typeOf.number("scalar",o),y.typeOf.object("result",c),c.x=n.x/o,c.y=n.y/o,c.z=n.z/o,c.w=n.w/o,c};e.negate=function(n,o){return y.typeOf.object("cartesian",n),y.typeOf.object("result",o),o.x=-n.x,o.y=-n.y,o.z=-n.z,o.w=-n.w,o};e.abs=function(n,o){return y.typeOf.object("cartesian",n),y.typeOf.object("result",o),o.x=Math.abs(n.x),o.y=Math.abs(n.y),o.z=Math.abs(n.z),o.w=Math.abs(n.w),o};var Tn=new e;e.lerp=function(n,o,c,f){return y.typeOf.object("start",n),y.typeOf.object("end",o),y.typeOf.number("t",c),y.typeOf.object("result",f),e.multiplyByScalar(o,c,Tn),f=e.multiplyByScalar(n,1-c,f),e.add(Tn,f,f)};var Wn=new e;e.mostOrthogonalAxis=function(n,o){y.typeOf.object("cartesian",n),y.typeOf.object("result",o);let c=e.normalize(n,Wn);return e.abs(c,c),c.x<=c.y?c.x<=c.z?c.x<=c.w?o=e.clone(e.UNIT_X,o):o=e.clone(e.UNIT_W,o):c.z<=c.w?o=e.clone(e.UNIT_Z,o):o=e.clone(e.UNIT_W,o):c.y<=c.z?c.y<=c.w?o=e.clone(e.UNIT_Y,o):o=e.clone(e.UNIT_W,o):c.z<=c.w?o=e.clone(e.UNIT_Z,o):o=e.clone(e.UNIT_W,o),o};e.equals=function(n,o){return n===o||z(n)&&z(o)&&n.x===o.x&&n.y===o.y&&n.z===o.z&&n.w===o.w};e.equalsArray=function(n,o,c){return n.x===o[c]&&n.y===o[c+1]&&n.z===o[c+2]&&n.w===o[c+3]};e.equalsEpsilon=function(n,o,c,f){return n===o||z(n)&&z(o)&&E.equalsEpsilon(n.x,o.x,c,f)&&E.equalsEpsilon(n.y,o.y,c,f)&&E.equalsEpsilon(n.z,o.z,c,f)&&E.equalsEpsilon(n.w,o.w,c,f)};e.ZERO=Object.freeze(new e(0,0,0,0));e.ONE=Object.freeze(new e(1,1,1,1));e.UNIT_X=Object.freeze(new e(1,0,0,0));e.UNIT_Y=Object.freeze(new e(0,1,0,0));e.UNIT_Z=Object.freeze(new e(0,0,1,0));e.UNIT_W=Object.freeze(new e(0,0,0,1));e.prototype.clone=function(n){return e.clone(this,n)};e.prototype.equals=function(n){return e.equals(this,n)};e.prototype.equalsEpsilon=function(n,o,c){return e.equalsEpsilon(this,n,o,c)};e.prototype.toString=function(){return`(${this.x}, ${this.y}, ${this.z}, ${this.w})`};var Mn=new Float32Array(1),Q=new Uint8Array(Mn.buffer),Nn=new Uint32Array([287454020]),Un=new Uint8Array(Nn.buffer),dn=Un[0]===68;e.packFloat=function(n,o){return y.typeOf.number("value",n),z(o)||(o=new e),Mn[0]=n,dn?(o.x=Q[0],o.y=Q[1],o.z=Q[2],o.w=Q[3]):(o.x=Q[3],o.y=Q[2],o.z=Q[1],o.w=Q[0]),o};e.unpackFloat=function(n){return y.typeOf.object("packedFloat",n),dn?(Q[0]=n.x,Q[1]=n.y,Q[2]=n.z,Q[3]=n.w):(Q[0]=n.w,Q[1]=n.z,Q[2]=n.y,Q[3]=n.x),Mn[0]};var yn=e;function h(n,o,c,f,O,p,b,t,j,R,w,T,A,C,P,S){this[0]=d(n,0),this[1]=d(O,0),this[2]=d(j,0),this[3]=d(A,0),this[4]=d(o,0),this[5]=d(p,0),this[6]=d(R,0),this[7]=d(C,0),this[8]=d(c,0),this[9]=d(b,0),this[10]=d(w,0),this[11]=d(P,0),this[12]=d(f,0),this[13]=d(t,0),this[14]=d(T,0),this[15]=d(S,0)}h.packedLength=16;h.pack=function(n,o,c){return y.typeOf.object("value",n),y.defined("array",o),c=d(c,0),o[c++]=n[0],o[c++]=n[1],o[c++]=n[2],o[c++]=n[3],o[c++]=n[4],o[c++]=n[5],o[c++]=n[6],o[c++]=n[7],o[c++]=n[8],o[c++]=n[9],o[c++]=n[10],o[c++]=n[11],o[c++]=n[12],o[c++]=n[13],o[c++]=n[14],o[c]=n[15],o};h.unpack=function(n,o,c){return y.defined("array",n),o=d(o,0),z(c)||(c=new h),c[0]=n[o++],c[1]=n[o++],c[2]=n[o++],c[3]=n[o++],c[4]=n[o++],c[5]=n[o++],c[6]=n[o++],c[7]=n[o++],c[8]=n[o++],c[9]=n[o++],c[10]=n[o++],c[11]=n[o++],c[12]=n[o++],c[13]=n[o++],c[14]=n[o++],c[15]=n[o],c};h.packArray=function(n,o){y.defined("array",n);let c=n.length,f=c*16;if(!z(o))o=new Array(f);else{if(!Array.isArray(o)&&o.length!==f)throw new J("If result is a typed array, it must have exactly array.length * 16 elements");o.length!==f&&(o.length=f)}for(let O=0;O<c;++O)h.pack(n[O],o,O*16);return o};h.unpackArray=function(n,o){if(y.defined("array",n),y.typeOf.number.greaterThanOrEquals("array.length",n.length,16),n.length%16!==0)throw new J("array length must be a multiple of 16.");let c=n.length;z(o)?o.length=c/16:o=new Array(c/16);for(let f=0;f<c;f+=16){let O=f/16;o[O]=h.unpack(n,f,o[O])}return o};h.clone=function(n,o){if(z(n))return z(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o):new h(n[0],n[4],n[8],n[12],n[1],n[5],n[9],n[13],n[2],n[6],n[10],n[14],n[3],n[7],n[11],n[15])};h.fromArray=h.unpack;h.fromColumnMajorArray=function(n,o){return y.defined("values",n),h.clone(n,o)};h.fromRowMajorArray=function(n,o){return y.defined("values",n),z(o)?(o[0]=n[0],o[1]=n[4],o[2]=n[8],o[3]=n[12],o[4]=n[1],o[5]=n[5],o[6]=n[9],o[7]=n[13],o[8]=n[2],o[9]=n[6],o[10]=n[10],o[11]=n[14],o[12]=n[3],o[13]=n[7],o[14]=n[11],o[15]=n[15],o):new h(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])};h.fromRotationTranslation=function(n,o,c){return y.typeOf.object("rotation",n),o=d(o,_.ZERO),z(c)?(c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=0,c[4]=n[3],c[5]=n[4],c[6]=n[5],c[7]=0,c[8]=n[6],c[9]=n[7],c[10]=n[8],c[11]=0,c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=1,c):new h(n[0],n[3],n[6],o.x,n[1],n[4],n[7],o.y,n[2],n[5],n[8],o.z,0,0,0,1)};h.fromTranslationQuaternionRotationScale=function(n,o,c,f){y.typeOf.object("translation",n),y.typeOf.object("rotation",o),y.typeOf.object("scale",c),z(f)||(f=new h);let O=c.x,p=c.y,b=c.z,t=o.x*o.x,j=o.x*o.y,R=o.x*o.z,w=o.x*o.w,T=o.y*o.y,A=o.y*o.z,C=o.y*o.w,P=o.z*o.z,S=o.z*o.w,W=o.w*o.w,N=t-T-P+W,U=2*(j-S),m=2*(R+C),L=2*(j+S),V=-t+T-P+W,k=2*(A-w),X=2*(R-C),$=2*(A+w),B=-t-T+P+W;return f[0]=N*O,f[1]=L*O,f[2]=X*O,f[3]=0,f[4]=U*p,f[5]=V*p,f[6]=$*p,f[7]=0,f[8]=m*b,f[9]=k*b,f[10]=B*b,f[11]=0,f[12]=n.x,f[13]=n.y,f[14]=n.z,f[15]=1,f};h.fromTranslationRotationScale=function(n,o){return y.typeOf.object("translationRotationScale",n),h.fromTranslationQuaternionRotationScale(n.translation,n.rotation,n.scale,o)};h.fromTranslation=function(n,o){return y.typeOf.object("translation",n),h.fromRotationTranslation(on.IDENTITY,n,o)};h.fromScale=function(n,o){return y.typeOf.object("scale",n),z(o)?(o[0]=n.x,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n.y,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n.z,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o):new h(n.x,0,0,0,0,n.y,0,0,0,0,n.z,0,0,0,0,1)};h.fromUniformScale=function(n,o){return y.typeOf.number("scale",n),z(o)?(o[0]=n,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=n,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=n,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o):new h(n,0,0,0,0,n,0,0,0,0,n,0,0,0,0,1)};h.fromRotation=function(n,o){return y.typeOf.object("rotation",n),z(o)||(o=new h),o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=0,o[4]=n[3],o[5]=n[4],o[6]=n[5],o[7]=0,o[8]=n[6],o[9]=n[7],o[10]=n[8],o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o};var s=new _,x=new _,cn=new _;h.fromCamera=function(n,o){y.typeOf.object("camera",n);let c=n.position,f=n.direction,O=n.up;y.typeOf.object("camera.position",c),y.typeOf.object("camera.direction",f),y.typeOf.object("camera.up",O),_.normalize(f,s),_.normalize(_.cross(s,O,x),x),_.normalize(_.cross(x,s,cn),cn);let p=x.x,b=x.y,t=x.z,j=s.x,R=s.y,w=s.z,T=cn.x,A=cn.y,C=cn.z,P=c.x,S=c.y,W=c.z,N=p*-P+b*-S+t*-W,U=T*-P+A*-S+C*-W,m=j*P+R*S+w*W;return z(o)?(o[0]=p,o[1]=T,o[2]=-j,o[3]=0,o[4]=b,o[5]=A,o[6]=-R,o[7]=0,o[8]=t,o[9]=C,o[10]=-w,o[11]=0,o[12]=N,o[13]=U,o[14]=m,o[15]=1,o):new h(p,b,t,N,T,A,C,U,-j,-R,-w,m,0,0,0,1)};h.computePerspectiveFieldOfView=function(n,o,c,f,O){y.typeOf.number.greaterThan("fovY",n,0),y.typeOf.number.lessThan("fovY",n,Math.PI),y.typeOf.number.greaterThan("near",c,0),y.typeOf.number.greaterThan("far",f,0),y.typeOf.object("result",O);let b=1/Math.tan(n*.5),t=b/o,j=(f+c)/(c-f),R=2*f*c/(c-f);return O[0]=t,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=b,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=j,O[11]=-1,O[12]=0,O[13]=0,O[14]=R,O[15]=0,O};h.computeOrthographicOffCenter=function(n,o,c,f,O,p,b){y.typeOf.number("left",n),y.typeOf.number("right",o),y.typeOf.number("bottom",c),y.typeOf.number("top",f),y.typeOf.number("near",O),y.typeOf.number("far",p),y.typeOf.object("result",b);let t=1/(o-n),j=1/(f-c),R=1/(p-O),w=-(o+n)*t,T=-(f+c)*j,A=-(p+O)*R;return t*=2,j*=2,R*=-2,b[0]=t,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=j,b[6]=0,b[7]=0,b[8]=0,b[9]=0,b[10]=R,b[11]=0,b[12]=w,b[13]=T,b[14]=A,b[15]=1,b};h.computePerspectiveOffCenter=function(n,o,c,f,O,p,b){y.typeOf.number("left",n),y.typeOf.number("right",o),y.typeOf.number("bottom",c),y.typeOf.number("top",f),y.typeOf.number("near",O),y.typeOf.number("far",p),y.typeOf.object("result",b);let t=2*O/(o-n),j=2*O/(f-c),R=(o+n)/(o-n),w=(f+c)/(f-c),T=-(p+O)/(p-O),A=-1,C=-2*p*O/(p-O);return b[0]=t,b[1]=0,b[2]=0,b[3]=0,b[4]=0,b[5]=j,b[6]=0,b[7]=0,b[8]=R,b[9]=w,b[10]=T,b[11]=A,b[12]=0,b[13]=0,b[14]=C,b[15]=0,b};h.computeInfinitePerspectiveOffCenter=function(n,o,c,f,O,p){y.typeOf.number("left",n),y.typeOf.number("right",o),y.typeOf.number("bottom",c),y.typeOf.number("top",f),y.typeOf.number("near",O),y.typeOf.object("result",p);let b=2*O/(o-n),t=2*O/(f-c),j=(o+n)/(o-n),R=(f+c)/(f-c),w=-1,T=-1,A=-2*O;return p[0]=b,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=t,p[6]=0,p[7]=0,p[8]=j,p[9]=R,p[10]=w,p[11]=T,p[12]=0,p[13]=0,p[14]=A,p[15]=0,p};h.computeViewportTransformation=function(n,o,c,f){z(f)||(f=new h),n=d(n,d.EMPTY_OBJECT);let O=d(n.x,0),p=d(n.y,0),b=d(n.width,0),t=d(n.height,0);o=d(o,0),c=d(c,1);let j=b*.5,R=t*.5,w=(c-o)*.5,T=j,A=R,C=w,P=O+j,S=p+R,W=o+w,N=1;return f[0]=T,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=A,f[6]=0,f[7]=0,f[8]=0,f[9]=0,f[10]=C,f[11]=0,f[12]=P,f[13]=S,f[14]=W,f[15]=N,f};h.computeView=function(n,o,c,f,O){return y.typeOf.object("position",n),y.typeOf.object("direction",o),y.typeOf.object("up",c),y.typeOf.object("right",f),y.typeOf.object("result",O),O[0]=f.x,O[1]=c.x,O[2]=-o.x,O[3]=0,O[4]=f.y,O[5]=c.y,O[6]=-o.y,O[7]=0,O[8]=f.z,O[9]=c.z,O[10]=-o.z,O[11]=0,O[12]=-_.dot(f,n),O[13]=-_.dot(c,n),O[14]=_.dot(o,n),O[15]=1,O};h.toArray=function(n,o){return y.typeOf.object("matrix",n),z(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o[4]=n[4],o[5]=n[5],o[6]=n[6],o[7]=n[7],o[8]=n[8],o[9]=n[9],o[10]=n[10],o[11]=n[11],o[12]=n[12],o[13]=n[13],o[14]=n[14],o[15]=n[15],o):[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]]};h.getElementIndex=function(n,o){return y.typeOf.number.greaterThanOrEquals("row",o,0),y.typeOf.number.lessThanOrEquals("row",o,3),y.typeOf.number.greaterThanOrEquals("column",n,0),y.typeOf.number.lessThanOrEquals("column",n,3),n*4+o};h.getColumn=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,3),y.typeOf.object("result",c);let f=o*4,O=n[f],p=n[f+1],b=n[f+2],t=n[f+3];return c.x=O,c.y=p,c.z=b,c.w=t,c};h.setColumn=function(n,o,c,f){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,3),y.typeOf.object("cartesian",c),y.typeOf.object("result",f),f=h.clone(n,f);let O=o*4;return f[O]=c.x,f[O+1]=c.y,f[O+2]=c.z,f[O+3]=c.w,f};h.getRow=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,3),y.typeOf.object("result",c);let f=n[o],O=n[o+4],p=n[o+8],b=n[o+12];return c.x=f,c.y=O,c.z=p,c.w=b,c};h.setRow=function(n,o,c,f){return y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,3),y.typeOf.object("cartesian",c),y.typeOf.object("result",f),f=h.clone(n,f),f[o]=c.x,f[o+4]=c.y,f[o+8]=c.z,f[o+12]=c.w,f};h.setTranslation=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.object("translation",o),y.typeOf.object("result",c),c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=o.x,c[13]=o.y,c[14]=o.z,c[15]=n[15],c};var mn=new _;h.setScale=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("scale",o),y.typeOf.object("result",c);let f=h.getScale(n,mn),O=o.x/f.x,p=o.y/f.y,b=o.z/f.z;return c[0]=n[0]*O,c[1]=n[1]*O,c[2]=n[2]*O,c[3]=n[3],c[4]=n[4]*p,c[5]=n[5]*p,c[6]=n[6]*p,c[7]=n[7],c[8]=n[8]*b,c[9]=n[9]*b,c[10]=n[10]*b,c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};var Ln=new _;h.setUniformScale=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number("scale",o),y.typeOf.object("result",c);let f=h.getScale(n,Ln),O=o/f.x,p=o/f.y,b=o/f.z;return c[0]=n[0]*O,c[1]=n[1]*O,c[2]=n[2]*O,c[3]=n[3],c[4]=n[4]*p,c[5]=n[5]*p,c[6]=n[6]*p,c[7]=n[7],c[8]=n[8]*b,c[9]=n[9]*b,c[10]=n[10]*b,c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};var zn=new _;h.getScale=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o.x=_.magnitude(_.fromElements(n[0],n[1],n[2],zn)),o.y=_.magnitude(_.fromElements(n[4],n[5],n[6],zn)),o.z=_.magnitude(_.fromElements(n[8],n[9],n[10],zn)),o};var En=new _;h.getMaximumScale=function(n){return h.getScale(n,En),_.maximumComponent(En)};var Vn=new _;h.setRotation=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("result",c);let f=h.getScale(n,Vn);return c[0]=o[0]*f.x,c[1]=o[1]*f.x,c[2]=o[2]*f.x,c[3]=n[3],c[4]=o[3]*f.y,c[5]=o[4]*f.y,c[6]=o[5]*f.y,c[7]=n[7],c[8]=o[6]*f.z,c[9]=o[7]*f.z,c[10]=o[8]*f.z,c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};var kn=new _;h.getRotation=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=h.getScale(n,kn);return o[0]=n[0]/c.x,o[1]=n[1]/c.x,o[2]=n[2]/c.x,o[3]=n[4]/c.y,o[4]=n[5]/c.y,o[5]=n[6]/c.y,o[6]=n[8]/c.z,o[7]=n[9]/c.z,o[8]=n[10]/c.z,o};h.multiply=function(n,o,c){y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c);let f=n[0],O=n[1],p=n[2],b=n[3],t=n[4],j=n[5],R=n[6],w=n[7],T=n[8],A=n[9],C=n[10],P=n[11],S=n[12],W=n[13],N=n[14],U=n[15],m=o[0],L=o[1],V=o[2],k=o[3],X=o[4],$=o[5],B=o[6],Z=o[7],I=o[8],D=o[9],G=o[10],K=o[11],F=o[12],i=o[13],v=o[14],g=o[15],a=f*m+t*L+T*V+S*k,l=O*m+j*L+A*V+W*k,r=p*m+R*L+C*V+N*k,nn=b*m+w*L+P*V+U*k,On=f*X+t*$+T*B+S*Z,pn=O*X+j*$+A*B+W*Z,bn=p*X+R*$+C*B+N*Z,hn=b*X+w*$+P*B+U*Z,wn=f*I+t*D+T*G+S*K,en=O*I+j*D+A*G+W*K,tn=p*I+R*D+C*G+N*K,Y=b*I+w*D+P*G+U*K,_n=f*F+t*i+T*v+S*g,Cn=O*F+j*i+A*v+W*g,Sn=p*F+R*i+C*v+N*g,Pn=b*F+w*i+P*v+U*g;return c[0]=a,c[1]=l,c[2]=r,c[3]=nn,c[4]=On,c[5]=pn,c[6]=bn,c[7]=hn,c[8]=wn,c[9]=en,c[10]=tn,c[11]=Y,c[12]=_n,c[13]=Cn,c[14]=Sn,c[15]=Pn,c};h.add=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c[0]=n[0]+o[0],c[1]=n[1]+o[1],c[2]=n[2]+o[2],c[3]=n[3]+o[3],c[4]=n[4]+o[4],c[5]=n[5]+o[5],c[6]=n[6]+o[6],c[7]=n[7]+o[7],c[8]=n[8]+o[8],c[9]=n[9]+o[9],c[10]=n[10]+o[10],c[11]=n[11]+o[11],c[12]=n[12]+o[12],c[13]=n[13]+o[13],c[14]=n[14]+o[14],c[15]=n[15]+o[15],c};h.subtract=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c[0]=n[0]-o[0],c[1]=n[1]-o[1],c[2]=n[2]-o[2],c[3]=n[3]-o[3],c[4]=n[4]-o[4],c[5]=n[5]-o[5],c[6]=n[6]-o[6],c[7]=n[7]-o[7],c[8]=n[8]-o[8],c[9]=n[9]-o[9],c[10]=n[10]-o[10],c[11]=n[11]-o[11],c[12]=n[12]-o[12],c[13]=n[13]-o[13],c[14]=n[14]-o[14],c[15]=n[15]-o[15],c};h.multiplyTransformation=function(n,o,c){y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c);let f=n[0],O=n[1],p=n[2],b=n[4],t=n[5],j=n[6],R=n[8],w=n[9],T=n[10],A=n[12],C=n[13],P=n[14],S=o[0],W=o[1],N=o[2],U=o[4],m=o[5],L=o[6],V=o[8],k=o[9],X=o[10],$=o[12],B=o[13],Z=o[14],I=f*S+b*W+R*N,D=O*S+t*W+w*N,G=p*S+j*W+T*N,K=f*U+b*m+R*L,F=O*U+t*m+w*L,i=p*U+j*m+T*L,v=f*V+b*k+R*X,g=O*V+t*k+w*X,a=p*V+j*k+T*X,l=f*$+b*B+R*Z+A,r=O*$+t*B+w*Z+C,nn=p*$+j*B+T*Z+P;return c[0]=I,c[1]=D,c[2]=G,c[3]=0,c[4]=K,c[5]=F,c[6]=i,c[7]=0,c[8]=v,c[9]=g,c[10]=a,c[11]=0,c[12]=l,c[13]=r,c[14]=nn,c[15]=1,c};h.multiplyByMatrix3=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("rotation",o),y.typeOf.object("result",c);let f=n[0],O=n[1],p=n[2],b=n[4],t=n[5],j=n[6],R=n[8],w=n[9],T=n[10],A=o[0],C=o[1],P=o[2],S=o[3],W=o[4],N=o[5],U=o[6],m=o[7],L=o[8],V=f*A+b*C+R*P,k=O*A+t*C+w*P,X=p*A+j*C+T*P,$=f*S+b*W+R*N,B=O*S+t*W+w*N,Z=p*S+j*W+T*N,I=f*U+b*m+R*L,D=O*U+t*m+w*L,G=p*U+j*m+T*L;return c[0]=V,c[1]=k,c[2]=X,c[3]=0,c[4]=$,c[5]=B,c[6]=Z,c[7]=0,c[8]=I,c[9]=D,c[10]=G,c[11]=0,c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};h.multiplyByTranslation=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("translation",o),y.typeOf.object("result",c);let f=o.x,O=o.y,p=o.z,b=f*n[0]+O*n[4]+p*n[8]+n[12],t=f*n[1]+O*n[5]+p*n[9]+n[13],j=f*n[2]+O*n[6]+p*n[10]+n[14];return c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=b,c[13]=t,c[14]=j,c[15]=n[15],c};h.multiplyByScale=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("scale",o),y.typeOf.object("result",c);let f=o.x,O=o.y,p=o.z;return f===1&&O===1&&p===1?h.clone(n,c):(c[0]=f*n[0],c[1]=f*n[1],c[2]=f*n[2],c[3]=n[3],c[4]=O*n[4],c[5]=O*n[5],c[6]=O*n[6],c[7]=n[7],c[8]=p*n[8],c[9]=p*n[9],c[10]=p*n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c)};h.multiplyByUniformScale=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.number("scale",o),y.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3],c[4]=n[4]*o,c[5]=n[5]*o,c[6]=n[6]*o,c[7]=n[7],c[8]=n[8]*o,c[9]=n[9]*o,c[10]=n[10]*o,c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15],c};h.multiplyByVector=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("cartesian",o),y.typeOf.object("result",c);let f=o.x,O=o.y,p=o.z,b=o.w,t=n[0]*f+n[4]*O+n[8]*p+n[12]*b,j=n[1]*f+n[5]*O+n[9]*p+n[13]*b,R=n[2]*f+n[6]*O+n[10]*p+n[14]*b,w=n[3]*f+n[7]*O+n[11]*p+n[15]*b;return c.x=t,c.y=j,c.z=R,c.w=w,c};h.multiplyByPointAsVector=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("cartesian",o),y.typeOf.object("result",c);let f=o.x,O=o.y,p=o.z,b=n[0]*f+n[4]*O+n[8]*p,t=n[1]*f+n[5]*O+n[9]*p,j=n[2]*f+n[6]*O+n[10]*p;return c.x=b,c.y=t,c.z=j,c};h.multiplyByPoint=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("cartesian",o),y.typeOf.object("result",c);let f=o.x,O=o.y,p=o.z,b=n[0]*f+n[4]*O+n[8]*p+n[12],t=n[1]*f+n[5]*O+n[9]*p+n[13],j=n[2]*f+n[6]*O+n[10]*p+n[14];return c.x=b,c.y=t,c.z=j,c};h.multiplyByScalar=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.number("scalar",o),y.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3]*o,c[4]=n[4]*o,c[5]=n[5]*o,c[6]=n[6]*o,c[7]=n[7]*o,c[8]=n[8]*o,c[9]=n[9]*o,c[10]=n[10]*o,c[11]=n[11]*o,c[12]=n[12]*o,c[13]=n[13]*o,c[14]=n[14]*o,c[15]=n[15]*o,c};h.negate=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o[0]=-n[0],o[1]=-n[1],o[2]=-n[2],o[3]=-n[3],o[4]=-n[4],o[5]=-n[5],o[6]=-n[6],o[7]=-n[7],o[8]=-n[8],o[9]=-n[9],o[10]=-n[10],o[11]=-n[11],o[12]=-n[12],o[13]=-n[13],o[14]=-n[14],o[15]=-n[15],o};h.transpose=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=n[1],f=n[2],O=n[3],p=n[6],b=n[7],t=n[11];return o[0]=n[0],o[1]=n[4],o[2]=n[8],o[3]=n[12],o[4]=c,o[5]=n[5],o[6]=n[9],o[7]=n[13],o[8]=f,o[9]=p,o[10]=n[10],o[11]=n[14],o[12]=O,o[13]=b,o[14]=t,o[15]=n[15],o};h.abs=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o[0]=Math.abs(n[0]),o[1]=Math.abs(n[1]),o[2]=Math.abs(n[2]),o[3]=Math.abs(n[3]),o[4]=Math.abs(n[4]),o[5]=Math.abs(n[5]),o[6]=Math.abs(n[6]),o[7]=Math.abs(n[7]),o[8]=Math.abs(n[8]),o[9]=Math.abs(n[9]),o[10]=Math.abs(n[10]),o[11]=Math.abs(n[11]),o[12]=Math.abs(n[12]),o[13]=Math.abs(n[13]),o[14]=Math.abs(n[14]),o[15]=Math.abs(n[15]),o};h.equals=function(n,o){return n===o||z(n)&&z(o)&&n[12]===o[12]&&n[13]===o[13]&&n[14]===o[14]&&n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[4]===o[4]&&n[5]===o[5]&&n[6]===o[6]&&n[8]===o[8]&&n[9]===o[9]&&n[10]===o[10]&&n[3]===o[3]&&n[7]===o[7]&&n[11]===o[11]&&n[15]===o[15]};h.equalsEpsilon=function(n,o,c){return c=d(c,0),n===o||z(n)&&z(o)&&Math.abs(n[0]-o[0])<=c&&Math.abs(n[1]-o[1])<=c&&Math.abs(n[2]-o[2])<=c&&Math.abs(n[3]-o[3])<=c&&Math.abs(n[4]-o[4])<=c&&Math.abs(n[5]-o[5])<=c&&Math.abs(n[6]-o[6])<=c&&Math.abs(n[7]-o[7])<=c&&Math.abs(n[8]-o[8])<=c&&Math.abs(n[9]-o[9])<=c&&Math.abs(n[10]-o[10])<=c&&Math.abs(n[11]-o[11])<=c&&Math.abs(n[12]-o[12])<=c&&Math.abs(n[13]-o[13])<=c&&Math.abs(n[14]-o[14])<=c&&Math.abs(n[15]-o[15])<=c};h.getTranslation=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o.x=n[12],o.y=n[13],o.z=n[14],o};h.getMatrix3=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[4],o[4]=n[5],o[5]=n[6],o[6]=n[8],o[7]=n[9],o[8]=n[10],o};var Xn=new on,$n=new on,Bn=new yn,Yn=new yn(0,0,0,1);h.inverse=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=n[0],f=n[4],O=n[8],p=n[12],b=n[1],t=n[5],j=n[9],R=n[13],w=n[2],T=n[6],A=n[10],C=n[14],P=n[3],S=n[7],W=n[11],N=n[15],U=A*N,m=C*W,L=T*N,V=C*S,k=T*W,X=A*S,$=w*N,B=C*P,Z=w*W,I=A*P,D=w*S,G=T*P,K=U*t+V*j+k*R-(m*t+L*j+X*R),F=m*b+$*j+I*R-(U*b+B*j+Z*R),i=L*b+B*t+D*R-(V*b+$*t+G*R),v=X*b+Z*t+G*j-(k*b+I*t+D*j),g=m*f+L*O+X*p-(U*f+V*O+k*p),a=U*c+B*O+Z*p-(m*c+$*O+I*p),l=V*c+$*f+G*p-(L*c+B*f+D*p),r=k*c+I*f+D*O-(X*c+Z*f+G*O);U=O*R,m=p*j,L=f*R,V=p*t,k=f*j,X=O*t,$=c*R,B=p*b,Z=c*j,I=O*b,D=c*t,G=f*b;let nn=U*S+V*W+k*N-(m*S+L*W+X*N),On=m*P+$*W+I*N-(U*P+B*W+Z*N),pn=L*P+B*S+D*N-(V*P+$*S+G*N),bn=X*P+Z*S+G*W-(k*P+I*S+D*W),hn=L*A+X*C+m*T-(k*C+U*T+V*A),wn=Z*C+U*w+B*A-($*A+I*C+m*w),en=$*T+G*C+V*w-(D*C+L*w+B*T),tn=D*A+k*w+I*T-(Z*T+G*A+X*w),Y=c*K+f*F+O*i+p*v;if(Math.abs(Y)<E.EPSILON21){if(on.equalsEpsilon(h.getMatrix3(n,Xn),$n,E.EPSILON7)&&yn.equals(h.getRow(n,3,Bn),Yn))return o[0]=0,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=-n[12],o[13]=-n[13],o[14]=-n[14],o[15]=1,o;throw new Rn("matrix is not invertible because its determinate is zero.")}return Y=1/Y,o[0]=K*Y,o[1]=F*Y,o[2]=i*Y,o[3]=v*Y,o[4]=g*Y,o[5]=a*Y,o[6]=l*Y,o[7]=r*Y,o[8]=nn*Y,o[9]=On*Y,o[10]=pn*Y,o[11]=bn*Y,o[12]=hn*Y,o[13]=wn*Y,o[14]=en*Y,o[15]=tn*Y,o};h.inverseTransformation=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=n[0],f=n[1],O=n[2],p=n[4],b=n[5],t=n[6],j=n[8],R=n[9],w=n[10],T=n[12],A=n[13],C=n[14],P=-c*T-f*A-O*C,S=-p*T-b*A-t*C,W=-j*T-R*A-w*C;return o[0]=c,o[1]=p,o[2]=j,o[3]=0,o[4]=f,o[5]=b,o[6]=R,o[7]=0,o[8]=O,o[9]=t,o[10]=w,o[11]=0,o[12]=P,o[13]=S,o[14]=W,o[15]=1,o};var Zn=new h;h.inverseTranspose=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),h.inverse(h.transpose(n,Zn),o)};h.IDENTITY=Object.freeze(new h(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1));h.ZERO=Object.freeze(new h(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0));h.COLUMN0ROW0=0;h.COLUMN0ROW1=1;h.COLUMN0ROW2=2;h.COLUMN0ROW3=3;h.COLUMN1ROW0=4;h.COLUMN1ROW1=5;h.COLUMN1ROW2=6;h.COLUMN1ROW3=7;h.COLUMN2ROW0=8;h.COLUMN2ROW1=9;h.COLUMN2ROW2=10;h.COLUMN2ROW3=11;h.COLUMN3ROW0=12;h.COLUMN3ROW1=13;h.COLUMN3ROW2=14;h.COLUMN3ROW3=15;Object.defineProperties(h.prototype,{length:{get:function(){return h.packedLength}}});h.prototype.clone=function(n){return h.clone(this,n)};h.prototype.equals=function(n){return h.equals(this,n)};h.equalsArray=function(n,o,c){return n[0]===o[c]&&n[1]===o[c+1]&&n[2]===o[c+2]&&n[3]===o[c+3]&&n[4]===o[c+4]&&n[5]===o[c+5]&&n[6]===o[c+6]&&n[7]===o[c+7]&&n[8]===o[c+8]&&n[9]===o[c+9]&&n[10]===o[c+10]&&n[11]===o[c+11]&&n[12]===o[c+12]&&n[13]===o[c+13]&&n[14]===o[c+14]&&n[15]===o[c+15]};h.prototype.equalsEpsilon=function(n,o){return h.equalsEpsilon(this,n,o)};h.prototype.toString=function(){return`(${this[0]}, ${this[4]}, ${this[8]}, ${this[12]})
(${this[1]}, ${this[5]}, ${this[9]}, ${this[13]})
(${this[2]}, ${this[6]}, ${this[10]}, ${this[14]})
(${this[3]}, ${this[7]}, ${this[11]}, ${this[15]})`};h.prototype.lookAt=function(n,o){_.magnitudeSquared(n)===0&&(n.z=1),_.normalize(n,n);let c=_.cross(o,n,new _);_.magnitudeSquared(c)===0&&(Math.abs(o.z)===1?n.x+=1e-4:n.z+=1e-4,_.normalize(n,n),c=_.cross(o,n,new _)),_.normalize(c,c);let f=_.cross(n,c,new _);this[0]=c.x,this[1]=c.y,this[2]=c.z,this[4]=f.x,this[5]=f.y,this[6]=f.z,this[8]=n.x,this[9]=n.y,this[10]=n.z};var yo=h;function q(n,o,c,f){this.west=d(n,0),this.south=d(o,0),this.east=d(c,0),this.north=d(f,0),this._planeView=this.west>2e5}Object.defineProperties(q.prototype,{width:{get:function(){return q.computeWidth(this)}},height:{get:function(){return q.computeHeight(this)}}});q.packedLength=4;q.pack=function(n,o,c){return y.typeOf.object("value",n),y.defined("array",o),c=d(c,0),o[c++]=n.west,o[c++]=n.south,o[c++]=n.east,o[c]=n.north,o};q.unpack=function(n,o,c,f){return y.defined("array",n),o=d(o,0),z(c)||(c=new q),c.west=n[o++],c.south=n[o++],c.east=n[o++],c.north=n[o],c._planeView=f,c};q.computeWidth=function(n){y.typeOf.object("rectangle",n);let o=n.east,c=n.west;return o<c&&(o+=E.TWO_PI),o-c};q.computeHeight=function(n){return y.typeOf.object("rectangle",n),n.north-n.south};q.fromDegrees=function(n,o,c,f,O){return n=E.toRadians(d(n,0)),o=E.toRadians(d(o,0)),c=E.toRadians(d(c,0)),f=E.toRadians(d(f,0)),z(O)?(O.west=n,O.south=o,O.east=c,O.north=f,O):new q(n,o,c,f)};q.fromRadians=function(n,o,c,f,O){return z(O)?(O.west=d(n,0),O.south=d(o,0),O.east=d(c,0),O.north=d(f,0),O):new q(n,o,c,f)};q.fromCartographicArray=function(n,o){y.defined("cartographics",n);let c=Number.MAX_VALUE,f=-Number.MAX_VALUE,O=Number.MAX_VALUE,p=-Number.MAX_VALUE,b=Number.MAX_VALUE,t=-Number.MAX_VALUE;for(let j=0,R=n.length;j<R;j++){let w=n[j];c=Math.min(c,w.longitude),f=Math.max(f,w.longitude),b=Math.min(b,w.latitude),t=Math.max(t,w.latitude);let T=w.longitude>=0?w.longitude:w.longitude+E.TWO_PI;O=Math.min(O,T),p=Math.max(p,T)}return f-c>p-O&&(c=O,f=p,f>E.PI&&(f=f-E.TWO_PI),c>E.PI&&(c=c-E.TWO_PI)),z(o)?(o.west=c,o.south=b,o.east=f,o.north=t,o):new q(c,b,f,t)};q.fromCartesianArray=function(n,o,c){y.defined("cartesians",n),n[0].z<2e6&&(this._planeView=!0),o=d(o,jn.WGS84);let f=Number.MAX_VALUE,O=-Number.MAX_VALUE,p=Number.MAX_VALUE,b=-Number.MAX_VALUE,t=Number.MAX_VALUE,j=-Number.MAX_VALUE;if(this._planeView===!0){for(let R=0,w=n.length;R<w;R++){let T=n[R];f=Math.min(f,T.x),O=Math.max(O,T.x),t=Math.min(t,T.y),j=Math.max(j,T.y)}return z(c)?(c.west=f,c.south=t,c.east=O,c.north=j,c._planeView=this._planeView,c):new q(f,t,O,j)}for(let R=0,w=n.length;R<w;R++){let T=o.cartesianToCartographic(n[R]);f=Math.min(f,T.longitude),O=Math.max(O,T.longitude),t=Math.min(t,T.latitude),j=Math.max(j,T.latitude);let A=T.longitude>=0?T.longitude:T.longitude+E.TWO_PI;p=Math.min(p,A),b=Math.max(b,A)}return O-f>b-p&&(f=p,O=b,O>E.PI&&(O=O-E.TWO_PI),f>E.PI&&(f=f-E.TWO_PI)),z(c)?(c.west=f,c.south=t,c.east=O,c.north=j,c):new q(f,t,O,j)};q.clone=function(n,o){if(z(n))return z(o)?(o.west=n.west,o.south=n.south,o.east=n.east,o.north=n.north,o):new q(n.west,n.south,n.east,n.north)};q.equalsEpsilon=function(n,o,c){return c=d(c,0),n===o||z(n)&&z(o)&&Math.abs(n.west-o.west)<=c&&Math.abs(n.south-o.south)<=c&&Math.abs(n.east-o.east)<=c&&Math.abs(n.north-o.north)<=c};q.prototype.clone=function(n){return q.clone(this,n)};q.prototype.equals=function(n){return q.equals(this,n)};q.equals=function(n,o){return n===o||z(n)&&z(o)&&n.west===o.west&&n.south===o.south&&n.east===o.east&&n.north===o.north};q.prototype.equalsEpsilon=function(n,o){return q.equalsEpsilon(this,n,o)};q.validate=function(n){if(y.typeOf.object("rectangle",n),n._planeView===!0)return;let o=n.north;y.typeOf.number.greaterThanOrEquals("north",o,-E.PI_OVER_TWO),y.typeOf.number.lessThanOrEquals("north",o,E.PI_OVER_TWO);let c=n.south;y.typeOf.number.greaterThanOrEquals("south",c,-E.PI_OVER_TWO),y.typeOf.number.lessThanOrEquals("south",c,E.PI_OVER_TWO);let f=n.west;y.typeOf.number.greaterThanOrEquals("west",f,-Math.PI),y.typeOf.number.lessThanOrEquals("west",f,Math.PI);let O=n.east;y.typeOf.number.greaterThanOrEquals("east",O,-Math.PI),y.typeOf.number.lessThanOrEquals("east",O,Math.PI)};q.southwest=function(n,o){return y.typeOf.object("rectangle",n),z(o)?(o.longitude=n.west,o.latitude=n.south,o.height=0,o):new u(n.west,n.south)};q.northwest=function(n,o){return y.typeOf.object("rectangle",n),z(o)?(o.longitude=n.west,o.latitude=n.north,o.height=0,o):new u(n.west,n.north)};q.northeast=function(n,o){return y.typeOf.object("rectangle",n),z(o)?(o.longitude=n.east,o.latitude=n.north,o.height=0,o):new u(n.east,n.north)};q.southeast=function(n,o){return y.typeOf.object("rectangle",n),z(o)?(o.longitude=n.east,o.latitude=n.south,o.height=0,o):new u(n.east,n.south)};q.center=function(n,o){y.typeOf.object("rectangle",n);let c=n.east,f=n.west,O,p;return n._planeView===!0?(O=(n.east+n.west)*.5,p=(n.south+n.north)*.5):(c<f&&(c+=E.TWO_PI),O=E.negativePiToPi((f+c)*.5),p=(n.south+n.north)*.5),z(o)?(o.longitude=O,o.latitude=p,o.height=0,o):new u(O,p)};q.intersection=function(n,o,c){y.typeOf.object("rectangle",n),y.typeOf.object("otherRectangle",o);let f=n.east,O=n.west,p=o.east,b=o.west;f<O&&p>0?f+=E.TWO_PI:p<b&&f>0&&(p+=E.TWO_PI),f<O&&b<0?b+=E.TWO_PI:p<b&&O<0&&(O+=E.TWO_PI);let t=E.negativePiToPi(Math.max(O,b)),j=E.negativePiToPi(Math.min(f,p));if((n.west<n.east||o.west<o.east)&&j<=t)return;let R=Math.max(n.south,o.south),w=Math.min(n.north,o.north);if(!(R>=w))return z(c)?(c.west=t,c.south=R,c.east=j,c.north=w,c):new q(t,R,j,w)};q.simpleIntersection=function(n,o,c){y.typeOf.object("rectangle",n),y.typeOf.object("otherRectangle",o);let f=Math.max(n.west,o.west),O=Math.max(n.south,o.south),p=Math.min(n.east,o.east),b=Math.min(n.north,o.north);if(!(O>=b||f>=p))return z(c)?(c.west=f,c.south=O,c.east=p,c.north=b,c):new q(f,O,p,b)};q.union=function(n,o,c){y.typeOf.object("rectangle",n),y.typeOf.object("otherRectangle",o),z(c)||(c=new q);let f=n.east,O=n.west,p=o.east,b=o.west;f<O&&p>0?f+=E.TWO_PI:p<b&&f>0&&(p+=E.TWO_PI),f<O&&b<0?b+=E.TWO_PI:p<b&&O<0&&(O+=E.TWO_PI);let t=E.negativePiToPi(Math.min(O,b)),j=E.negativePiToPi(Math.max(f,p));return c.west=t,c.south=Math.min(n.south,o.south),c.east=j,c.north=Math.max(n.north,o.north),c};q.expand=function(n,o,c){return y.typeOf.object("rectangle",n),y.typeOf.object("cartographic",o),z(c)||(c=new q),c.west=Math.min(n.west,o.longitude),c.south=Math.min(n.south,o.latitude),c.east=Math.max(n.east,o.longitude),c.north=Math.max(n.north,o.latitude),c};q.contains=function(n,o){y.typeOf.object("rectangle",n),y.typeOf.object("cartographic",o);let c=o.longitude,f=o.latitude,O=n.west,p=n.east;return p<O&&(p+=E.TWO_PI,c<0&&(c+=E.TWO_PI)),(c>O||E.equalsEpsilon(c,O,E.EPSILON14))&&(c<p||E.equalsEpsilon(c,p,E.EPSILON14))&&f>=n.south&&f<=n.north};var In=new u;q.subsample=function(n,o,c,f){y.typeOf.object("rectangle",n);let O=d(n._planeView,!1);o=d(o,jn.WGS84),c=d(c,0),z(f)||(f=[]);let p=0,b=n.north,t=n.south,j=n.east,R=n.west,w=In;if(w.height=c,w.longitude=R,w.latitude=b,O===!0?(f[p]=new _,f[p].x=w.longitude,f[p].y=w.latitude,f[p].z=w.height):f[p]=o.cartographicToCartesian(w,f[p]),p++,w.longitude=j,O===!0?(f[p]=new _,f[p].x=w.longitude,f[p].y=w.latitude,f[p].z=w.height):f[p]=o.cartographicToCartesian(w,f[p]),p++,w.latitude=t,O===!0?(f[p]=new _,f[p].x=w.longitude,f[p].y=w.latitude,f[p].z=w.height):f[p]=o.cartographicToCartesian(w,f[p]),p++,w.longitude=R,O===!0?(f[p]=new _,f[p].x=w.longitude,f[p].y=w.latitude,f[p].z=w.height):f[p]=o.cartographicToCartesian(w,f[p]),p++,O===!1){b<0?w.latitude=b:t>0?w.latitude=t:w.latitude=0;for(let T=1;T<8;++T)w.longitude=-Math.PI+T*E.PI_OVER_TWO,q.contains(n,w)&&(f[p]=o.cartographicToCartesian(w,f[p]),p++);w.latitude===0&&(w.longitude=R,f[p]=o.cartographicToCartesian(w,f[p]),p++,w.longitude=j,f[p]=o.cartographicToCartesian(w,f[p]),p++)}return f.length=p,f};q.subsection=function(n,o,c,f,O,p){if(y.typeOf.object("rectangle",n),y.typeOf.number.greaterThanOrEquals("westLerp",o,0),y.typeOf.number.lessThanOrEquals("westLerp",o,1),y.typeOf.number.greaterThanOrEquals("southLerp",c,0),y.typeOf.number.lessThanOrEquals("southLerp",c,1),y.typeOf.number.greaterThanOrEquals("eastLerp",f,0),y.typeOf.number.lessThanOrEquals("eastLerp",f,1),y.typeOf.number.greaterThanOrEquals("northLerp",O,0),y.typeOf.number.lessThanOrEquals("northLerp",O,1),y.typeOf.number.lessThanOrEquals("westLerp",o,f),y.typeOf.number.lessThanOrEquals("southLerp",c,O),z(p)||(p=new q),n.west<=n.east){let t=n.east-n.west;p.west=n.west+o*t,p.east=n.west+f*t}else{let t=E.TWO_PI+n.east-n.west;p.west=E.negativePiToPi(n.west+o*t),p.east=E.negativePiToPi(n.west+f*t)}let b=n.north-n.south;return p.south=n.south+c*b,p.north=n.south+O*b,o===1&&(p.west=n.east),f===1&&(p.east=n.east),c===1&&(p.south=n.north),O===1&&(p.north=n.north),p};q.MAX_VALUE=Object.freeze(new q(-Math.PI,-E.PI_OVER_TWO,Math.PI,E.PI_OVER_TWO));var Mo=q;function M(n,o,c,f){this[0]=d(n,0),this[1]=d(c,0),this[2]=d(o,0),this[3]=d(f,0)}M.packedLength=4;M.pack=function(n,o,c){return y.typeOf.object("value",n),y.defined("array",o),c=d(c,0),o[c++]=n[0],o[c++]=n[1],o[c++]=n[2],o[c++]=n[3],o};M.unpack=function(n,o,c){return y.defined("array",n),o=d(o,0),z(c)||(c=new M),c[0]=n[o++],c[1]=n[o++],c[2]=n[o++],c[3]=n[o++],c};M.packArray=function(n,o){y.defined("array",n);let c=n.length,f=c*4;if(!z(o))o=new Array(f);else{if(!Array.isArray(o)&&o.length!==f)throw new J("If result is a typed array, it must have exactly array.length * 4 elements");o.length!==f&&(o.length=f)}for(let O=0;O<c;++O)M.pack(n[O],o,O*4);return o};M.unpackArray=function(n,o){if(y.defined("array",n),y.typeOf.number.greaterThanOrEquals("array.length",n.length,4),n.length%4!==0)throw new J("array length must be a multiple of 4.");let c=n.length;z(o)?o.length=c/4:o=new Array(c/4);for(let f=0;f<c;f+=4){let O=f/4;o[O]=M.unpack(n,f,o[O])}return o};M.clone=function(n,o){if(z(n))return z(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o):new M(n[0],n[2],n[1],n[3])};M.fromArray=M.unpack;M.fromColumnMajorArray=function(n,o){return y.defined("values",n),M.clone(n,o)};M.fromRowMajorArray=function(n,o){return y.defined("values",n),z(o)?(o[0]=n[0],o[1]=n[2],o[2]=n[1],o[3]=n[3],o):new M(n[0],n[1],n[2],n[3])};M.fromScale=function(n,o){return y.typeOf.object("scale",n),z(o)?(o[0]=n.x,o[1]=0,o[2]=0,o[3]=n.y,o):new M(n.x,0,0,n.y)};M.fromUniformScale=function(n,o){return y.typeOf.number("scale",n),z(o)?(o[0]=n,o[1]=0,o[2]=0,o[3]=n,o):new M(n,0,0,n)};M.fromRotation=function(n,o){y.typeOf.number("angle",n);let c=Math.cos(n),f=Math.sin(n);return z(o)?(o[0]=c,o[1]=f,o[2]=-f,o[3]=c,o):new M(c,-f,f,c)};M.toArray=function(n,o){return y.typeOf.object("matrix",n),z(o)?(o[0]=n[0],o[1]=n[1],o[2]=n[2],o[3]=n[3],o):[n[0],n[1],n[2],n[3]]};M.getElementIndex=function(n,o){return y.typeOf.number.greaterThanOrEquals("row",o,0),y.typeOf.number.lessThanOrEquals("row",o,1),y.typeOf.number.greaterThanOrEquals("column",n,0),y.typeOf.number.lessThanOrEquals("column",n,1),n*2+o};M.getColumn=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,1),y.typeOf.object("result",c);let f=o*2,O=n[f],p=n[f+1];return c.x=O,c.y=p,c};M.setColumn=function(n,o,c,f){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,1),y.typeOf.object("cartesian",c),y.typeOf.object("result",f),f=M.clone(n,f);let O=o*2;return f[O]=c.x,f[O+1]=c.y,f};M.getRow=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,1),y.typeOf.object("result",c);let f=n[o],O=n[o+2];return c.x=f,c.y=O,c};M.setRow=function(n,o,c,f){return y.typeOf.object("matrix",n),y.typeOf.number.greaterThanOrEquals("index",o,0),y.typeOf.number.lessThanOrEquals("index",o,1),y.typeOf.object("cartesian",c),y.typeOf.object("result",f),f=M.clone(n,f),f[o]=c.x,f[o+2]=c.y,f};var Dn=new H;M.setScale=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("scale",o),y.typeOf.object("result",c);let f=M.getScale(n,Dn),O=o.x/f.x,p=o.y/f.y;return c[0]=n[0]*O,c[1]=n[1]*O,c[2]=n[2]*p,c[3]=n[3]*p,c};var Gn=new H;M.setUniformScale=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.number("scale",o),y.typeOf.object("result",c);let f=M.getScale(n,Gn),O=o/f.x,p=o/f.y;return c[0]=n[0]*O,c[1]=n[1]*O,c[2]=n[2]*p,c[3]=n[3]*p,c};var qn=new H;M.getScale=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o.x=H.magnitude(H.fromElements(n[0],n[1],qn)),o.y=H.magnitude(H.fromElements(n[2],n[3],qn)),o};var An=new H;M.getMaximumScale=function(n){return M.getScale(n,An),H.maximumComponent(An)};var Qn=new H;M.setRotation=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("result",c);let f=M.getScale(n,Qn);return c[0]=o[0]*f.x,c[1]=o[1]*f.x,c[2]=o[2]*f.y,c[3]=o[3]*f.y,c};var Hn=new H;M.getRotation=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=M.getScale(n,Hn);return o[0]=n[0]/c.x,o[1]=n[1]/c.x,o[2]=n[2]/c.y,o[3]=n[3]/c.y,o};M.multiply=function(n,o,c){y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c);let f=n[0]*o[0]+n[2]*o[1],O=n[0]*o[2]+n[2]*o[3],p=n[1]*o[0]+n[3]*o[1],b=n[1]*o[2]+n[3]*o[3];return c[0]=f,c[1]=p,c[2]=O,c[3]=b,c};M.add=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c[0]=n[0]+o[0],c[1]=n[1]+o[1],c[2]=n[2]+o[2],c[3]=n[3]+o[3],c};M.subtract=function(n,o,c){return y.typeOf.object("left",n),y.typeOf.object("right",o),y.typeOf.object("result",c),c[0]=n[0]-o[0],c[1]=n[1]-o[1],c[2]=n[2]-o[2],c[3]=n[3]-o[3],c};M.multiplyByVector=function(n,o,c){y.typeOf.object("matrix",n),y.typeOf.object("cartesian",o),y.typeOf.object("result",c);let f=n[0]*o.x+n[2]*o.y,O=n[1]*o.x+n[3]*o.y;return c.x=f,c.y=O,c};M.multiplyByScalar=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.number("scalar",o),y.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3]*o,c};M.multiplyByScale=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.object("scale",o),y.typeOf.object("result",c),c[0]=n[0]*o.x,c[1]=n[1]*o.x,c[2]=n[2]*o.y,c[3]=n[3]*o.y,c};M.multiplyByUniformScale=function(n,o,c){return y.typeOf.object("matrix",n),y.typeOf.number("scale",o),y.typeOf.object("result",c),c[0]=n[0]*o,c[1]=n[1]*o,c[2]=n[2]*o,c[3]=n[3]*o,c};M.negate=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o[0]=-n[0],o[1]=-n[1],o[2]=-n[2],o[3]=-n[3],o};M.transpose=function(n,o){y.typeOf.object("matrix",n),y.typeOf.object("result",o);let c=n[0],f=n[2],O=n[1],p=n[3];return o[0]=c,o[1]=f,o[2]=O,o[3]=p,o};M.abs=function(n,o){return y.typeOf.object("matrix",n),y.typeOf.object("result",o),o[0]=Math.abs(n[0]),o[1]=Math.abs(n[1]),o[2]=Math.abs(n[2]),o[3]=Math.abs(n[3]),o};M.equals=function(n,o){return n===o||z(n)&&z(o)&&n[0]===o[0]&&n[1]===o[1]&&n[2]===o[2]&&n[3]===o[3]};M.equalsArray=function(n,o,c){return n[0]===o[c]&&n[1]===o[c+1]&&n[2]===o[c+2]&&n[3]===o[c+3]};M.equalsEpsilon=function(n,o,c){return c=d(c,0),n===o||z(n)&&z(o)&&Math.abs(n[0]-o[0])<=c&&Math.abs(n[1]-o[1])<=c&&Math.abs(n[2]-o[2])<=c&&Math.abs(n[3]-o[3])<=c};M.IDENTITY=Object.freeze(new M(1,0,0,1));M.ZERO=Object.freeze(new M(0,0,0,0));M.COLUMN0ROW0=0;M.COLUMN0ROW1=1;M.COLUMN1ROW0=2;M.COLUMN1ROW1=3;Object.defineProperties(M.prototype,{length:{get:function(){return M.packedLength}}});M.prototype.clone=function(n){return M.clone(this,n)};M.prototype.equals=function(n){return M.equals(this,n)};M.prototype.equalsEpsilon=function(n,o){return M.equalsEpsilon(this,n,o)};M.prototype.toString=function(){return`(${this[0]}, ${this[2]})
(${this[1]}, ${this[3]})`};var _o=M;export{yn as a,yo as b,Mo as c,_o as d};
